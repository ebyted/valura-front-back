<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Valura </title>
  <!-- Importa Outfit e Inter desde Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&family:Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/style-bold.css">
  <script>
    // Carga autom√°tica de config seg√∫n entorno
    (function() {
      var prodHosts = ["valura.mx", "www.valura.mx"];
      var isProd = prodHosts.some(function(h) { return location.hostname.includes(h); });
      var configScript = document.createElement('script');
      configScript.src = isProd ? 'config.prod.js' : 'config.dev.js';
      document.head.appendChild(configScript);
    })();
  </script>
  <style>
    /* Mejor visibilidad y alineaci√≥n para el bloque extra */
    .quote-extra-info.destacado {
      margin: 2.5em auto 2em auto;
      background: linear-gradient(90deg, #e6f3fa 0%, #d2f4ea 100%);
      border: 2px solid #0097a7;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.07);
      padding: 1.5em 1em;
      max-width: 420px;
      text-align: center;
      font-size: 1.13em;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 1em;
      justify-content: center;
    }

    .quote-extra-info .info-icon {
      font-size: 2em;
      color: #009688;
      flex-shrink: 0;
    }

    .quote-extra-info .whatsapp-link {
      color: #25d366;
      font-weight: bold;
      text-decoration: underline;
    }

    /* Nota informativa para Ensenada */
    .ensenada-notice {
      background-color: #fff3cd;
      border: 1px solid #ffeaa7;
      border-radius: 6px;
      padding: 0.75em;
      margin-top: 0.5em;
      font-size: 0.9em;
      color: #856404;
      display: none;
    }

    @media (max-width: 768px) {
      .nav-menu {
        display: none !important;
      }
    }

    /* Alineaci√≥n uniforme para tarjetas de servicios */
    .services-grid-bold {
      display: grid !important;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
      gap: 2rem !important;
      align-items: stretch !important;
    }

    .service-card-bold {
      display: flex !important;
      flex-direction: column !important;
      height: 100% !important;
      align-items: flex-start !important;
    }

    .service-content {
      display: flex !important;
      flex-direction: column !important;
      height: 100% !important;
      justify-content: flex-start !important;
      padding: 1.5rem !important;
    }

    .service-description {
      flex-grow: 1 !important;
      margin-bottom: 1rem !important;
    }

    .service-price {
      margin-top: 1rem !important;
      padding-top: 1rem !important;
      border-top: 1px solid #e0eaf1 !important;
    }

    .service-requirements {
      margin-top: 1rem !important;
    }

    /* Estilos para la tabla comparativa de servicios */
    .services-table-container {
      overflow-x: auto;
      margin-top: 2rem;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
    }

    .services-table {
      width: 100%;
      border-collapse: collapse;
    }

    .services-table th, .services-table td {
      padding: 1.2rem;
      text-align: left;
      border-bottom: 1px solid #e0eaf1;
    }

    .services-table th {
      background-color: #f9f9f9;
      font-weight: 600;
      color: #333;
    }

    .service-row:hover {
      background-color: #f1f8ff;
    }

    .service-name-col {
      width: 30%;
    }

    .price-col {
      width: 15%;
    }

    .description-col {
      width: 35%;
    }

    .requirements-col {
      width: 20%;
    }

    .ideal-col {
      width: 25%;
    }

    .service-icon {
      margin-right: 0.5rem;
      font-size: 1.2em;
    }

    .service-validity {
      display: block;
      font-size: 0.9em;
      color: #666;
      margin-top: 0.3em;
    }

    .valid {
      color: #28a745;
      font-weight: 500;
    }

    .featured {
      background-color: #e8f5e9;
    }

    /* Estilos para la nota informativa en la secci√≥n de servicios */
    .services-note {
      background-color: #e9f7fe;
      border: 1px solid #b3e5fc;
      border-radius: 8px;
      padding: 1.5rem;
      margin-top: 2rem;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .note-icon {
      font-size: 2em;
      color: #17a2b8;
      flex-shrink: 0;
    }

    .btn-note {
      background-color: #17a2b8;
      color: #fff;
      padding: 0.75rem 1.5rem;
      border-radius: 4px;
      text-decoration: none;
      font-weight: 500;
      display: inline-block;
      transition: background-color 0.3s;
    }

    .btn-note:hover {
      background-color: #138496;
    }

    /* Estilos para la secci√≥n de servicios con pesta√±as */
    .services-tabs {
      display: flex;
      justify-content: center;
      margin-top: 2rem;
      gap: 1rem;
    }

    .tab-button {
      background-color: #f1f1f1;
      border: none;
      border-radius: 4px;
      padding: 0.75rem 1.5rem;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: background-color 0.3s;
    }

    .tab-button.active {
      background-color: #0097a7;
      color: #fff;
    }

    .tab-icon {
      font-size: 1.2em;
    }

    .tab-content {
      display: none;
      margin-top: 1.5rem;
    }

    .tab-content.active {
      display: block;
    }

    .services-grid-tabs {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }

    .service-card-tab {
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .service-card-header {
      background-color: #f7f7f7;
      padding: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .service-icon-large {
      font-size: 2.5em;
      color: #009688;
      flex-shrink: 0;
    }

    .service-title-area {
      flex-grow: 1;
      margin-left: 1rem;
    }

    .service-badge {
      background-color: #e1f5fe;
      color: #01579b;
      padding: 0.5rem 1rem;
      border-radius: 12px;
      font-size: 0.9em;
      font-weight: 500;
      display: inline-block;
      margin-top: 0.5rem;
    }

    .service-price-main {
      text-align: right;
    }

    .price {
      font-size: 1.5em;
      font-weight: 700;
      color: #d32f2f;
    }

    .currency {
      font-size: 0.9em;
      vertical-align: super;
    }

    .service-card-body {
      padding: 1.5rem;
      flex-grow: 1;
    }

    .service-desc {
      margin-bottom: 1.5rem;
      color: #555;
    }

    .service-highlights {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .highlight-item {
      background-color: #e8f5e9;
      color: #2e7d32;
      padding: 0.75rem 1rem;
      border-radius: 16px;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .highlight-icon {
      font-size: 1.2em;
      flex-shrink: 0;
    }

    .service-card-footer {
      padding: 1.5rem;
      text-align: center;
      background-color: #f9f9f9;
    }

    .btn-select-service, .btn-pagar {
      background: linear-gradient(90deg, #009688 0%, #005baa 100%);
      color: #fff;
      padding: 0.75rem 1.5rem;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      font-weight: 500;
      transition: background 0.3s;
      box-shadow: 0 2px 8px rgba(0,91,170,0.08);
    }

    .btn-select-service.primary, .btn-pagar.primary {
      background: linear-gradient(90deg, #00796b 0%, #005baa 100%);
    }

    .btn-select-service:hover, .btn-pagar:hover {
      background: linear-gradient(90deg, #005baa 0%, #009688 100%);
    }

    /* Estilos para la secci√≥n de requisitos */
    .requirements-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }

    .requirement-card {
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 1.5rem;
    }

    .req-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .req-icon {
      font-size: 1.5em;
      color: #009688;
      flex-shrink: 0;
    }

    .req-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .req-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }

    .req-check {
      font-size: 1.2em;
      color: #4caf50;
      flex-shrink: 0;
    }

    .req-item.optional .req-check {
      color: #ffa000;
    }

    /* Estilos para la tabla de comparaci√≥n */
    .comparison-container {
      margin-top: 1.5rem;
    }

    .comparison-selectors {
      margin-bottom: 1.5rem;
    }

    .service-checkboxes {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .service-checkbox {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }

    .checkbox-custom {
      width: 1.2em;
      height: 1.2em;
      border: 2px solid #009688;
      border-radius: 4px;
      display: inline-block;
      position: relative;
    }

    .checkbox-custom::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0.6em;
      height: 0.6em;
      background-color: #009688;
      border-radius: 2px;
      transform: translate(-50%, -50%) scale(0);
      transition: transform 0.2s;
    }

    input[type="checkbox"]:checked + .checkbox-custom::after {
      transform: translate(-50%, -50%) scale(1);
    }

    .comparison-table-container {
      overflow-x: auto;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
    }

    .comparison-table {
      width: 100%;
      border-collapse: collapse;
    }

    .comparison-table th, .comparison-table td {
      padding: 1rem;
      text-align: left;
      border-bottom: 1px solid #e0eaf1;
    }

    .comparison-table th {
      background-color: #f9f9f9;
      font-weight: 600;
      color: #333;
    }

    .compare-col {
      width: 25%;
    }

    /* Estilos para la nota informativa en la secci√≥n de servicios con pesta√±as */
    .services-note-tabs {
      background-color: #e9f7fe;
      border: 1px solid #b3e5fc;
      border-radius: 8px;
      padding: 1.5rem;
      margin-top: 2rem;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .note-icon {
      font-size: 2em;
      color: #17a2b8;
      flex-shrink: 0;
    }

    .btn-note {
      background-color: #17a2b8;
      color: #fff;
      padding: 0.75rem 1.5rem;
      border-radius: 4px;
      text-decoration: none;
      font-weight: 500;
      display: inline-block;
      transition: background-color 0.3s;
    }

    .btn-note:hover {
      background-color: #138496;
    }
  </style>
</head>
<body>
  <div class="page-container">
    <!-- Navigation -->
    <nav class="nav-bold">
      <div class="nav-content">
        <div class="logo-bold">
          <img src="/assets/images/Logo_Principal.png" alt="Valura Logo" class="logo-img">
        </div>
        <div class="nav-menu">
          <a href="#servicios" class="nav-link">Servicios</a>
          <a href="#proceso" class="nav-link">Proceso</a>
          <a href="#cotizar" class="nav-link">Cotizar</a>
          <div class="nav-contact">
            <span class="contact-text">¬øNecesitas ayuda?</span>
            <a href="tel:+52-646-384-3985" class="contact-phone">+52 646 384 3985</a>
          </div>
        </div>
      </div>
    </nav>

    <!--         Section -->
    <section class="hero-bold">
      <div class="hero-container">
        <div class="hero-grid">
          <div class="hero-content-bold">
            <h1 class="hero-title">
              <span class="title-line-1">VALOR</span>
              <span class="title-line-2">sin complicaciones</span>
            </h1>
            <p class="hero-description">
              Claridad, valor y forma en <strong>valura.mx</strong>
            </p>
            <p class="hero-subtitle">
              M√°s all√° de un simple tr√°mite, en Valura creemos que valorar una propiedad 
              es valorar bien una decisi√≥n. Acompa√±amos a nuestros clientes en decisiones 
              clave entregando valor real a trav√©s de procesos precisos.
            </p>
            <!-- Hero Stats Section -->
            <div id="hero-stats" class="hero-stats" style="margin-top: 2em;">
              <div class="stats-grid">
               
              </div>
            </div>
            <script>
              function toggleHeroStats() {
                var stats = document.getElementById('hero-stats');
                if (window.innerWidth <= 768) {
                  stats.style.display = 'none';
                } else {
                  stats.style.display = '';
                }
              }
              window.addEventListener('DOMContentLoaded', toggleHeroStats);
              window.addEventListener('resize', toggleHeroStats);
            </script>
            <style>
              .hero-stats {
                width: 100%;
                max-width: 600px;
                margin: 2em auto 0 auto;
                display: flex;
                justify-content: center;
              }
              .stats-grid {
                display: flex;
                gap: 2em;
                justify-content: center;
                width: 100%;
              }
              .stat-item {
                text-align: center;
                background: #e6f3fa;
                border-radius: 10px;
                padding: 1em 2em;
                box-shadow: 0 2px 8px rgba(0,0,0,0.06);
                min-width: 120px;
              }
              .stat-value {
                font-size: 2em;
                font-weight: 700;
                color: #0097a7;
                display: block;
              }
              .stat-label {
                font-size: 1em;
                color: #333;
                margin-top: 0.5em;
                display: block;
              }
              @media (max-width: 768px) {
                .hero-stats {
                  display: none !important;
                }
              }
            </style>
          </div>
          <div class="hero-actions-right">
            <div class="hero-actions">
              <a href="#cotizar" class="btn-primary-bold">
                <span>OBTENER COTIZACI√ìN</span>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M7 17L17 7M17 7H8M17 7V16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </a>
              <a href="#servicios" class="btn-secondary-bold">
                <span>Ver servicios</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Services Section - Cards con Pesta√±as -->
    <section id="servicios" class="services-bold">
      <div class="container-bold">
        <div class="section-header-bold">
          <div class="header-content">
            <span class="section-tag">Nuestros servicios</span>
          </div>
        </div>
        <div class="services-grid-bold">
          <!-- Card: Estimaci√≥n de valor -->
          <div class="service-card-bold" style="align-items: flex-start;">
            <div class="service-content" style="justify-content: flex-start;">
              <div class="service-header" style="margin-bottom: 0.5em;">
                <h2 style="margin: 0;">Estimaci√≥n de valor</h2>
              </div>
              <p class="service-description" style="margin-top: 0;">
                Opini√≥n profesional r√°pida y confiable sobre el valor aproximado de tu inmueble.<br>
                Ideal para tomar decisiones informadas, planificar financieramente o negociar la compra/venta.<br>
                Herramienta previa a un aval√∫o formal (sin validez oficial).
              </p>
              <div class="service-price" style="margin-top: 1em;">
                <span class="price">Costo inicial: <strong>Desde $1,500 MXN</strong></span>
              </div>
              <div class="service-requirements" style="margin-top: 1em;">
                <strong>Requisitos:</strong>
                <ul class="service-features">
                  <li>Copia del predial (actualizado y pagado)</li>
                  <li>Datos del propietario</li>
                  <li>Documento que acredite la propiedad (escritura o contrato)</li>
                  <li>Planos (si hay construcci√≥n)</li>
                  <li class="text-note">Entre m√°s informaci√≥n proporciones, m√°s precisa ser√° la estimaci√≥n.</li>
                </ul>
              </div>
            </div>
          </div>
          <!-- Card: Aval√∫o Fiscal o Comercial -->
          <div class="service-card-bold" style="align-items: flex-start;">
            <div class="service-content" style="justify-content: flex-start;">
              <div class="service-header" style="margin-bottom: 0.5em;">
                <h2 style="margin: 0;">Aval√∫o Fiscal o Comercial</h2>
              </div>
              <p class="service-description" style="margin-top: 0;">
                Estudio t√©cnico con validez legal que determina el valor real de tu propiedad mediante m√©todos profesionales.<br>
                Requerido para tr√°mites como compra-venta, escrituraci√≥n, herencias, impuestos, traslado de dominio y m√°s.<br>
                Documento oficial firmado por perito autorizado.
              </p>
              <div class="service-price" style="margin-top: 1em;">
                <span class="price">Costo inicial: <strong>Desde $2,500 MXN</strong></span>
              </div>
              <div class="service-requirements" style="margin-top: 1em;">
                <strong>Requisitos:</strong>
                <ul class="service-features">
                  <li>Acceso total al inmueble</li>
                  <li>Copia del predial (actualizado y pagado)</li>
                  <li>Datos del propietario</li>
                  <li>Documento que acredite la propiedad (escritura o contrato)</li>
                  <li>Planos arquitect√≥nicos (si existen)</li>
                  <li>Deslinde</li>
                  <li>R√©gimen de condominio (si aplica)</li>
                  <li>Boleto de agua</li>
                  <li class="text-note">Entre m√°s informaci√≥n proporciones, m√°s r√°pido y preciso ser√° el aval√∫o.</li>
                </ul>
              </div>
            </div>
          </div>
          <!-- Card: Inspecci√≥n de Propiedad -->
          <div class="service-card-bold" style="align-items: flex-start;">
            <div class="service-content" style="justify-content: flex-start;">
              <div class="service-header" style="margin-bottom: 0.5em;">
                <h2 style="margin: 0;">Inspecci√≥n de Propiedad</h2>
              </div>
              <p class="service-description text-accent" style="margin-top: 0;">
                Informe visual detallado del estado f√≠sico del inmueble, √∫til para detectar da√±os, riesgos o detalles importantes.<br>
                Dirigido especialmente a compradores a distancia o quienes buscan una opini√≥n t√©cnica objetiva antes de cerrar una operaci√≥n.
              </p>
              <div class="service-features" style="margin-top: 1em;">
                <strong>Incluye:</strong>
                <ul>
                  <li>Evaluaci√≥n visual t√©cnica</li>
                  <li>Reporte fotogr√°fico</li>
                  <li>Opini√≥n de valor</li>
                </ul>
              </div>
              <div class="service-price" style="margin-top: 1em;">
                <span class="price">Costo inicial: <strong>Desde $3,500 MXN</strong></span>
              </div>
              <div class="service-requirements" style="margin-top: 1em;">
                <strong>Requisitos:</strong>
                <ul class="service-features">
                  <li>Acceso total al inmueble</li>
                  <li>Copia del predial</li>
                  <li>Datos del propietario</li>
                  <li>Documento que acredite la propiedad</li>
                  <li>Planos (si los hay)</li>
                </ul>
              </div>
            </div>
          </div>
          <!-- Card: Planos y Levantamiento -->
          <div class="service-card-bold" style="align-items: flex-start;">
            <div class="service-content" style="justify-content: flex-start;">
              <div class="service-header" style="margin-bottom: 0.5em;">
                <h2 style="margin: 0;">Planos y Levantamiento</h2>
              </div>
              <p class="service-description" style="margin-top: 0;">
                Levantamiento t√©cnico para elaborar o actualizar planos arquitect√≥nicos del inmueble.<br>
                √∫til para tr√°mites de regularizaci√≥n, base para remodelaci√≥n o simplemente tener planos actualizados del inmueble.
              </p>
              <div class="service-price" style="margin-top: 1em;">
                <span class="price">Costo inicial: <strong>Desde $4,000 MXN</strong></span>
              </div>
              <div class="service-requirements" style="margin-top: 1em;">
                <strong>Requisitos:</strong>
                <ul class="service-features">
                  <li>‚úî Acceso total al inmueble</li>
                  <li>‚úî Planos existentes (si se tienen)</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

        <!-- Process Section -->
    <section id="proceso" class="process-bold">
      <div class="container-bold">
        <div class="section-header-bold centered">
          <span class="section-tag">Nuestro proceso</span>
          <h2 class="section-title">
            As√≠ trabajamos :
            <span class="gradient-text-bold">resultados t√©cnicos de calidad y asesor√≠a clara¬†en¬†cada¬†paso.</span>
          </h2>
        </div>

        <div class="process-timeline">
          <div class="timeline-item">
            <div class="timeline-number">01</div>
            <div class="timeline-content">
              <h3>Solicitud y revisi√≥n de documentos</h3>
              <p>Escoge el servicio que necesitas. Te indicamos los requisitos, revisamos tu documentaci√≥n y agendamos la cita para la visita t√©cnica.</p>
              <div class="timeline-image">
                <img src="assets/images/document_checklist.png" alt="Documentos">
              </div>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-number">02</div>
            <div class="timeline-content">
              <h3>Inspecci√≥n t√©cnica</h3>
              <p>Un perito profesional realiza la visita, eval√∫a las condiciones del inmueble, toma medidas si es necesario y atiende cualquier duda relacionada con el servicio contratado.</p>
              <div class="timeline-image">
                <img src="assets/images/imagen_1_tecnico.png" alt="Inspecci√≥n">
              </div>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-number">03</div>
            <div class="timeline-content">
              <h3>An√°lisis y desarrollo del informe</h3>
              <p>Procesamos la informaci√≥n recabada y elaboramos tu documento aplicando criterios t√©cnicos y metodolog√≠as profesionales, garantizando claridad, precisi√≥n y calidad.</p>
              <div class="timeline-image">
                <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/3bf9cb968c-c8a3ebc0debda22128f3.png" alt="An√°lisis">
              </div>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-number">04</div>
            <div class="timeline-content">
              <h3>Entrega de resultados</h3>
              <p>Recibes tu documento en formato digital, en tiempo y forma. Tambi√©n puedes solicitar la versi√≥n f√≠sica firmada y sellada, si la necesitas para un tr√°mite oficial.</p>
              <div class="timeline-image">
                <img src="assets/images/avaluos.png" alt="Entrega">
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Quote Section con formulario din√°mico -->
    <section id="cotizar" class="quote-bold" style="max-width: 900px; margin: 0 auto;">
      <div class="container-bold" style="max-width: 100%; padding-left: 16px; padding-right: 16px;">
      <div class="quote-layout" style="display: flex; flex-wrap: wrap; gap: 32px; justify-content: center;">
        <div class="quote-info" style="flex: 1 1 350px; min-width: 300px;">
          <!-- INICIA BLOQUE MEJORADO -->
          <div class="info-box-quote">
            <div class="info-box-icon">üí°</div>
            <h3>¬øListo para comenzar?</h3>
            
            <div class="info-box-steps">
              <h4>Tu servicio en 6 pasos:</h4>
              <ul>
                <li><span class="step-icon">1.</span> Llena el formulario</li>
                <li><span class="step-icon">2.</span> Revisa tu cotizaci√≥n</li>
                <li><span class="step-icon">3.</span> Confirma el servicio</li>
                <li><span class="step-icon">4.</span> Agenda tu cita</li>
                <li><span class="step-icon">5.</span> Comparte documentos</li>
                <li><span class="step-icon">6.</span> Recibe tu servicio completo</li>
              </ul>
            </div>

            <div class="info-box-contact">
              <p>¬øDudas o necesitas asesor√≠a?</p>
              <a href="https://wa.me/526463843985" target="_blank" class="btn-whatsapp">
                por WhatsApp
              </a>
            </div>
          </div>
          <!-- TERMINA BLOQUE MEJORADO -->
        </div>
        <div class="quote-form-container">
            <!-- Formulario din√°mico de cotizaci√≥n personalizada -->
            <h3 style="text-align: center; margin-bottom: 1.5em; font-size: 1.5em; color: var(--gray-800);">Formulario para cotizaci√≥n</h3>
            <form class="quote-form-bold" id="cotizacionForm" autocomplete="off" action="#" method="POST">
              <!-- El formulario se enviar√° solo por JavaScript -->
              <input type="hidden" name="_cc" id="cc_email">
              
              <div class="form-group">
                <label for="nombre">Nombre completo *</label>
                <input type="text" id="nombre" name="nombre" required>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="telefono">Tel√©fono *</label>
                  <input type="tel" id="telefono" name="telefono" required pattern="[0-9]{10,}">
                </div>
                <div class="form-group">
                  <label for="email">Correo electr√≥nico *</label>
                  <input type="email" id="email" name="email" required>
                </div>
              </div>
              <div class="form-group">
                <label for="direccion_estado">Estado *</label>
                <select id="direccion_estado" name="direccion_estado" required>
                  <option value="">Selecciona un estado</option>
                  <option value="Baja California">Baja California</option>
                </select>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="direccion_ciudad">Ciudad *</label>
                  <select id="direccion_ciudad" name="direccion_ciudad" required>
                    <option value="">Selecciona una ciudad</option>
                    <option value="Tijuana">Tijuana</option>
                    <option value="Ensenada">Ensenada</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="direccion_colonia">Colonia *</label>
                  <input type="text" id="direccion_colonia" name="direccion_colonia" required>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="direccion_calle">Calle *</label>
                  <input type="text" id="direccion_calle" name="direccion_calle" required>
                </div>
                <div class="form-group">
                  <label for="direccion_numero">N√∫mero *</label>
                  <input type="text" id="direccion_numero" name="direccion_numero" required>
                </div>
                <div class="form-group">
                  <label for="direccion_numero_int">N√∫mero interior</label>
                  <input type="text" id="direccion_numero_int" name="direccion_numero_int">
                </div>
              </div>
              <div class="form-group">
                <label>Servicio *</label>
                <select id="servicio" name="servicio" required>
                  <option value="">Selecciona un servicio</option>
                  <option value="estimacion">Estimaci√≥n de valor</option>
                  <option value="avaluo">Aval√∫o</option>
                  <option value="inspeccion">Inspecci√≥n de propiedad</option>
                  <option value="planos">Planos/levantamiento arquitect√≥nico</option>

                </select>
              </div>
              <div class="form-group" id="uso_avaluo_group" style="display:none;">
                <label for="uso_avaluo">Uso del aval√∫o *</label>
                <select id="uso_avaluo" name="uso_avaluo">
                  <option value="">Selecciona el uso</option>
                  <option value="fiscal">Fiscal</option>
                  <option value="comercial">Comercial/Privado</option>
                </select>
                <div id="ensenada_notice" class="ensenada-notice">
                  ‚ö†Ô∏è <strong>Nota:</strong> Para propiedades en Ensenada, los aval√∫os comerciales/privados no pueden ser certificados por el municipio.
                </div>
              </div>
              <div class="form-group">
                <label>Tipo de propiedad *</label>
                <select id="tipo_propiedad" name="tipo_propiedad" required>
                  <option value="">Selecciona el tipo</option>
                  <option value="terreno">Terreno</option>
                  <option value="casa">Casa</option>
                  <option value="departamento">Departamento</option>
                  <option value="comercio">Comercio</option>
                  <option value="industrial">Industrial</option>
                </select>
              </div>
              <div class="form-row">
                <div class="form-group" id="m2_terreno_group">
                  <label for="m2_terreno">Metros cuadrados de terreno</label>
                  <input type="text" id="m2_terreno" name="m2_terreno" class="input-bold" style="width: 80px; min-width: 60px;">
                  <span style="margin-left:4px;">m¬≤</span>
                </div>
                <div class="form-group" id="m2_construccion_group">
                  <label for="m2_construccion">Metros cuadrados de construcci√≥n</label>
                  <input type="text" id="m2_construccion" name="m2_construccion" class="input-bold" style="width: 80px; min-width: 60px;">
                  <span style="margin-left:4px;">m¬≤</span>
                </div>
              </div>
              <div class="form-group">
                <label for="notas">Notas adicionales</label>
                <textarea id="notas" name="notas" rows="2" style="width:100%;"></textarea>
              </div>
              <div class="form-group" id="planos_checkbox_group" style="display:none;">
                <label style="display:flex;align-items:center;gap:0.5em;">
                  <input type="checkbox" id="planos_arquitectonicos" name="planos_arquitectonicos">
                  <span>Planos arquitect√≥nicos</span>
                </label>
              </div>
              <div class="form-group" style="text-align:center; margin-top:1.5em;">
                <button type="submit" class="submit-btn-bold">
                  <span>OBTENER MI COTIZACI√ìN</span>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M7 17L17 7M17 7H8M17 7V16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer-bold">
      <div class="container-bold">
        <div class="footer-content">
          <div class="footer-brand">
            <p>Valor sin complicaciones</p>
          </div>
          <div class="footer-contact">
            <h4>Contacto</h4>
            <p>üìß contacto.valura@gmail.com</p>
            <p>üìû +52 646 384 3985</p>
          </div>
        </div>
      </div>
    </footer>
  </div>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // --- ELEMENTOS DEL DOM ---
    const form = document.getElementById('cotizacionForm');
    const servicio = document.getElementById('servicio');
    const tipoPropiedad = document.getElementById('tipo_propiedad');
    const direccionCiudad = document.getElementById('direccion_ciudad');
    const usoAvaluoGroup = document.getElementById('uso_avaluo_group');
    const usoAvaluo = document.getElementById('uso_avaluo');
    const m2ConstruccionGroup = document.getElementById('m2_construccion_group');
    const m2TerrenoGroup = document.getElementById('m2_terreno_group');
    const ensenadaNotice = document.getElementById('ensenada_notice');
    const planosCheckboxGroup = document.getElementById('planos_checkbox_group');

    // Opciones a manipular din√°micamente
    const terrenoOption = tipoPropiedad.querySelector('option[value="terreno"]');

  // Elementos para ocultar el formulario y bot√≥n
  const quoteFormContainer = document.querySelector('.quote-form-container');
  const obtenerCotizacionBtn = form.querySelector('.submit-btn-bold');

    // --- FUNCIONES DE L√ìGICA ---
    function updateFormLogic() {
      const servicioValue = servicio.value;
      const ciudadValue = direccionCiudad.value;
      const usoAvaluoValue = usoAvaluo.value;
      const esAvaluo = servicioValue === 'avaluo';
      usoAvaluoGroup.style.display = esAvaluo ? '' : 'none';
      if (esAvaluo) {
        usoAvaluo.setAttribute('required', 'required');
      } else {
        usoAvaluo.removeAttribute('required');
      }
      const esEnsenada = ciudadValue === 'Ensenada';
      const esComercial = usoAvaluoValue === 'comercial';
      if (esAvaluo && esEnsenada && esComercial) {
        ensenadaNotice.style.display = 'block';
      } else {
        ensenadaNotice.style.display = 'none';
      }
      const esPlanos = servicioValue === 'planos';
      if (esPlanos) {
        terrenoOption.style.display = 'none';
        if (tipoPropiedad.value === 'terreno') {
          tipoPropiedad.value = '';
        }
      } else {
        terrenoOption.style.display = '';
      }

      // Ocultar campo de m2_terreno si el servicio es "planos"
      if (servicioValue === 'planos') {
        m2TerrenoGroup.style.display = 'none';
        document.getElementById('m2_terreno').value = '';
      } else {
        m2TerrenoGroup.style.display = '';
      }

      // Mostrar/ocultar checkbox de planos arquitect√≥nicos
      if (servicioValue === 'estimacion' || servicioValue === 'avaluo') {
        planosCheckboxGroup.style.display = '';
      } else {
        planosCheckboxGroup.style.display = 'none';
        document.getElementById('planos_arquitectonicos').checked = false;
      }
    }
    function toggleConstruccion() {
      if (tipoPropiedad.value === 'terreno') {
        m2ConstruccionGroup.style.display = 'none';
        document.getElementById('m2_construccion').value = '';
      } else {
        m2ConstruccionGroup.style.display = '';
      }
    }
    servicio.addEventListener('change', updateFormLogic);
    direccionCiudad.addEventListener('change', updateFormLogic);
    usoAvaluo.addEventListener('change', updateFormLogic);
    tipoPropiedad.addEventListener('change', toggleConstruccion);

    // --- VALIDACI√ìN DEL FORMULARIO ---
    form.addEventListener('submit', function (e) {
      const requiredInputs = form.querySelectorAll('[required]');
      let valid = true;
      requiredInputs.forEach(input => {
        if (input.offsetParent !== null && !input.value.trim()) {
          valid = false;
        }
      });
      if (!valid) {
        alert('Por favor, completa todos los campos obligatorios.');
        e.preventDefault();
        return;
      }
      e.preventDefault();
      // Prepare form data
      const formData = {};
      Array.from(form.elements).forEach(el => {
        if (el.name && el.value !== undefined) {
          formData[el.name] = el.value;
        }
      });

      // Guardar tel√©fono y correo en localStorage para facturaci√≥n
      if (formData.telefono) {
        localStorage.setItem('telefono', formData.telefono);
      }
      if (formData.email) {
        localStorage.setItem('email', formData.email);
      }

      const submitBtn = form.querySelector('.submit-btn-bold span');
      const originalText = submitBtn.textContent;
      submitBtn.textContent = 'ENVIANDO...';

      // Solo mostrar desglose, NO enviar correo a√∫n
      let apiUrl = window.API_URL || 'https://www.valura.mx:7099/api/cotizacion';
      fetch(apiUrl, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'X-Preview': '1' // Header especial para que backend NO env√≠e correo (opcional, si backend lo soporta)
        },
        body: JSON.stringify(formData)
      })
      .then(async response => {
        submitBtn.textContent = originalText;
        if (response.ok) {
          const data = await response.json();
          // Mostrar resultado en el frontend, pasar formData para reenv√≠o
          mostrarResultadoCotizacion(data, formData);
          form.reset();
        } else {
          alert('Hubo un error al obtener la cotizaci√≥n. Int√©ntalo de nuevo m√°s tarde.');
        }
      })
      .catch(() => {
        alert('Hubo un error de conexi√≥n. Int√©ntalo de nuevo m√°s tarde.');
        submitBtn.textContent = originalText;
      });
    });

    // Crear contenedor para mostrar el resultado si no existe
    let resultadoDiv = document.getElementById('resultado-cotizacion');
    if (!resultadoDiv) {
      resultadoDiv = document.createElement('div');
      resultadoDiv.id = 'resultado-cotizacion';
      resultadoDiv.style.maxWidth = '600px';
      resultadoDiv.style.margin = '2em auto';
      resultadoDiv.style.padding = '1.5em';
      resultadoDiv.style.background = '#e6f3fa';
      resultadoDiv.style.border = '2px solid #0097a7';
      resultadoDiv.style.borderRadius = '12px';
      resultadoDiv.style.boxShadow = '0 4px 16px rgba(0,0,0,0.07)';
      resultadoDiv.style.display = 'none';
      form.parentNode.insertBefore(resultadoDiv, form);
    }
  // Al recargar la p√°gina, la secci√≥n de cotizaci√≥n debe estar visible
  if (quoteFormContainer) quoteFormContainer.style.display = '';
  if (obtenerCotizacionBtn) obtenerCotizacionBtn.style.display = '';

    function mostrarResultadoCotizacion(data, formData) {
      if (!data || !data.ok) {
        alert('No se pudo obtener la cotizaci√≥n.');
        return;
      }
      let lineas = '';
      if (data.salida && Array.isArray(data.salida.lineas)) {
        lineas = '<ul style="margin:0 0 12px 18px;padding:0;">' + data.salida.lineas.map(txt => `<li>${txt}</li>`).join('') + '</ul>';
      }

      // Variables para el desglose
      let subtotal = parseFloat(data.salida?.subtotal?.replace(/[^\d.]/g, '') || 0);
      let iva = parseFloat(data.salida?.iva?.replace(/[^\d.]/g, '') || 0);
      let total = parseFloat(data.salida?.total?.replace(/[^\d.]/g, '') || 0);
      let moneda = (data.salida?.total || '').includes('$') ? '$' : '';

      // Determinar si se debe mostrar el checkbox de sello del ayuntamiento
      const servicioSeleccionado = (formData.servicio || '').toLowerCase();
      const mostrarSello = !(servicioSeleccionado === 'estimacion' || servicioSeleccionado === 'inspeccion');

      resultadoDiv.innerHTML = `
        <h2 style=\"color:#005baa;text-align:center;\">Cotizaci√≥n generada</h2>
        <p style=\"margin:0 0 8px 0;\">Folio: <strong>${data.quote_id || ''}</strong></p>
        <hr style=\"margin:16px 0;\">
        <p><strong>Desglose estimado:</strong></p>
        ${lineas}
        <table id=\"tabla-desglose\" style=\"width:100%;border-collapse:collapse;\">
          <tr><td style=\"padding:6px 0;\">Subtotal</td><td id=\"subtotal-celda\" style=\"padding:6px 0;text-align:right;font-weight:600;\">${moneda}${subtotal.toLocaleString('es-MX', {minimumFractionDigits:2})}</td></tr>
          <tr><td style=\"padding:6px 0;\">IVA (8%)</td><td id=\"iva-celda\" style=\"padding:6px 0;text-align:right;font-weight:600;\">${moneda}${iva.toLocaleString('es-MX', {minimumFractionDigits:2})}</td></tr>
          <tr><td style=\"padding:6px 0;border-top:1px solid #e0eaf1;\">Total</td><td id=\"total-celda\" style=\"padding:6px 0;text-align:right;font-weight:800;color:#005baa;border-top:1px solid #e0eaf1;\">${moneda}${total.toLocaleString('es-MX', {minimumFractionDigits:2})}</td></tr>
        </table>
        <div style=\"margin:1em 0 0 0;text-align:left;display:flex;flex-direction:column;gap:0.7em;\">
          ${mostrarSello ? `<label style=\"display:flex;align-items:center;gap:0.5em;font-size:1.08em;\">
            <input type=\"checkbox\" id=\"sello-ayuntamiento-checkbox\" style=\"width:1.2em;height:1.2em;\">
            <span>Sello del ayuntamiento <span style=\"color:#0097a7;font-weight:600;\">(+ $1,500.00)</span></span>
          </label>` : ''}
          <label style=\"display:flex;align-items:center;gap:0.5em;font-size:1.08em;visibility:hidden;\">
            <input type=\"checkbox\" id=\"facturar-checkbox\" style=\"width:1.2em;height:1.2em;\">
            <span>Aceptar y facturar <span style=\"color:#0097a7;font-weight:600;\">(Recibe factura electr√≥nica)</span></span>
          </label>
        </div>
        <div style=\"text-align:center;margin-top:1.5em;display:flex;justify-content:center;gap:1em;\">
          <button id=\"enviar-cotizacion-btn\" class=\"submit-btn-bold\" style=\"font-size:1.1em;padding:0.7em 2em;\">Enviar cotizaci√≥n</button>
          <button id=\"pagar-btn\" class=\"submit-btn-bold\" style=\"font-size:1.1em;padding:0.7em 2em;background:#005baa;\">Pagar</button>
        </div>
        <div id=\"mensaje-envio-cotizacion\" style=\"margin-top:1.5em;\"></div>
        <p style=\"font-size: 0.9em; color: #555; text-align: center;\">Claridad, valor y forma en valura.mx</p>
      `;
      resultadoDiv.style.display = 'block';
      resultadoDiv.scrollIntoView({ behavior: 'smooth' });

      // L√≥gica para el checkbox (solo si existe)
      const checkbox = document.getElementById('sello-ayuntamiento-checkbox');
      const totalCelda = document.getElementById('total-celda');
      if (checkbox) {
        checkbox.addEventListener('change', function() {
          let extra = checkbox.checked ? 1500 : 0;
          let nuevoTotal = total + extra;
          totalCelda.textContent = `${moneda}${nuevoTotal.toLocaleString('es-MX', {minimumFractionDigits:2})}`;
        });
      }

      // L√≥gica para el checkbox de facturaci√≥n
      const facturarCheckbox = document.getElementById('facturar-checkbox');
      facturarCheckbox.addEventListener('change', function() {
        if (facturarCheckbox.checked) {
          window.location.href = 'facturaservicio.html';
        }
      });

      // L√≥gica para el bot√≥n Enviar cotizaci√≥n
      const enviarBtn = document.getElementById('enviar-cotizacion-btn');
      const pagarBtn = document.getElementById('pagar-btn');
      const mensajeEnvio = document.getElementById('mensaje-envio-cotizacion');
      let enviado = false;
      enviarBtn.addEventListener('click', function(e) {
        e.preventDefault();
        if (enviado) return;
        enviarBtn.disabled = true;
        enviarBtn.textContent = 'Enviando...';
        // Detectar entorno y elegir URL
        let apiUrl = window.API_URL || 'https://www.bajalab.mx/api';
        fetch(apiUrl + '/cotizacion', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(formData)
        })
        .then(async response => {
          if (response.ok) {
            mensajeEnvio.innerHTML = `<div style='background:#e8f5e9;border:2px solid #0097a7;border-radius:10px;padding:1.2em;text-align:center;color:#2e7d32;font-weight:600;'>¬°Cotizaci√≥n enviada! Revisa tu correo para la confirmaci√≥n.</div>`;
            enviado = true;
            enviarBtn.style.display = 'none';
          } else {
            mensajeEnvio.innerHTML = `<div style='background:#ffeaea;border:2px solid #d32f2f;border-radius:10px;padding:1.2em;text-align:center;color:#d32f2f;font-weight:600;'>Hubo un error al enviar la cotizaci√≥n. Intenta de nuevo m√°s tarde.</div>`;
            enviarBtn.disabled = false;
            enviarBtn.textContent = 'Enviar cotizaci√≥n';
          }
        })
        .catch(() => {
          mensajeEnvio.innerHTML = `<div style='background:#ffeaea;border:2px solid #d32f2f;border-radius:10px;padding:1.2em;text-align:center;color:#d32f2f;font-weight:600;'>Error de conexi√≥n. Intenta de nuevo m√°s tarde.</div>`;
          enviarBtn.disabled = false;
          enviarBtn.textContent = 'Enviar cotizaci√≥n';
        });
      });

      // L√≥gica para el bot√≥n Pagar
      pagarBtn.addEventListener('click', function(e) {
        e.preventDefault();
        // Guardar datos de cotizaci√≥n en localStorage para usarlos en pago.html si se requiere
        localStorage.setItem('cotizacion', JSON.stringify({ data, formData }));
        window.location.href = 'pago.html';
      });
    }
    updateFormLogic();
    toggleConstruccion();
  });
</script>

</body>
</html>